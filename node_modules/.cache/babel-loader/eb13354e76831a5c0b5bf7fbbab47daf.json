{"ast":null,"code":"var _jsxFileName = \"/Users/swalihvpm/Desktop/django-react/django-react-ecommerce/src/components/test.js\";\nimport React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Box from \"@material-ui/core/Box\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport KeyboardArrowDownIcon from \"@material-ui/icons/KeyboardArrowDown\";\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\nimport Container from \"@material-ui/core/Container\";\nimport Icon from \"@material-ui/core/Icon\";\nimport { userIDURL, userTypeURL, orderListURL } from \"../constants\";\nimport { authAxios } from \"../utils\";\nconst useRowStyles = makeStyles({\n  root: {\n    \"& > *\": {\n      borderBottom: \"unset\",\n      margin: \"20px\",\n      padding: \"20px\"\n    },\n    orderDtails: {\n      borderBottom: \"unset\",\n      margin: \"300px\",\n      padding: \"20px\"\n    }\n  }\n});\n\nconst Myapp = () => {\n  const [loading, setLoading] = useState(false);\n  const [orders, setOrders] = useState([]);\n  const [userID, setUserID] = useState(null);\n  const [userType, setuserType] = useState(null);\n  const [currentPage, setCurrentPage] = useState(2);\n  const [ordersPerPage] = useState(5);\n  const classes = useRowStyles();\n  useEffect(() => {\n    const findUserType = async () => {\n      setLoading(true);\n      const res = await authAxios.get(userTypeURL);\n      setuserType(res.data);\n      setLoading(false);\n    };\n\n    findUserType();\n  }, []);\n  useEffect(() => {\n    const findUserID = async () => {\n      setLoading(true);\n      const res = await authAxios.get(userIDURL);\n      setUserID(res.data);\n      setLoading(false);\n    };\n\n    findUserID();\n  }, []);\n  useEffect(() => {\n    const fetchOrders = async () => {\n      setLoading(true);\n      const res = await authAxios.get(orderListURL);\n      setOrders(res.data);\n      setLoading(false);\n    };\n\n    fetchOrders();\n  }, []); // Get current orders\n\n  const indexOfLastOrder = currentPage * ordersPerPage;\n  const indexOfFirstOrder = indexOfLastOrder - ordersPerPage;\n  const currentOrders = orders.slice(indexOfFirstOrder, indexOfLastOrder); // Change page\n\n  const paginate = pageNumber => setCurrentPage(pageNumber);\n\n  console.log(ordersPerPage);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-primary mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, \"My Blog\"), /*#__PURE__*/React.createElement(CustomerTable, {\n    orders: currentOrders,\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Pagination, {\n    ordersPerPage: ordersPerPage,\n    totalOrders: orders.length,\n    paginate: paginate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }));\n};\n\nconst Pagination = ({\n  ordersPerPage,\n  totalOrders,\n  paginate\n}) => {\n  const pageNumbers = [];\n\n  for (let i = 1; i <= Math.ceil(totalOrders / ordersPerPage); i++) {\n    pageNumbers.push(i);\n  }\n\n  console.log(ordersPerPage);\n  return /*#__PURE__*/React.createElement(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"pagination\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, pageNumbers.map(number => /*#__PURE__*/React.createElement(\"li\", {\n    key: number,\n    className: \"page-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    onClick: () => paginate(number),\n    href: \"!#\",\n    className: \"page-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, number)))));\n};\n\nfunction CustomerTable(props) {\n  const {\n    orders\n  } = props;\n  const {\n    UserType\n  } = props;\n  const classes = useRowStyles();\n  return /*#__PURE__*/React.createElement(Container, {\n    maxWidth: \"md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    \"aria-label\": \"collapsible table\",\n    className: classes.paperContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 15\n    }\n  }, \"Shop Name\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  }, \"Total Amount\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 15\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  }, \"Order Status\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, orders.map(order => /*#__PURE__*/React.createElement(Customer, {\n    key: order.id,\n    order: order,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  }))))));\n}\n\nfunction Customer(props) {\n  const {\n    order\n  } = props;\n  const [open, setOpen] = React.useState(false);\n  const classes = useRowStyles();\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"expand row\",\n    size: \"small\",\n    onClick: () => setOpen(!open),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 11\n    }\n  }, open ? /*#__PURE__*/React.createElement(KeyboardArrowUpIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(KeyboardArrowDownIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 47\n    }\n  }))), /*#__PURE__*/React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }\n  }, order.shop_name), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }\n  }, order.total), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  }, order.start_date), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }\n  }, order.order_status)), /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    style: {\n      paddingBottom: 0,\n      paddingTop: 0\n    },\n    colSpan: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Collapse, {\n    in: open,\n    timeout: \"auto\",\n    unmountOnExit: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    margin: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    gutterBottom: true,\n    component: \"div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 15\n    }\n  }, \"Order Details\"), /*#__PURE__*/React.createElement(Table, {\n    size: \"small\",\n    \"aria-label\": \"purchases\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 21\n    }\n  }, \"Item\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 21\n    }\n  }, \"Quantity\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 21\n    }\n  }, \"Total price\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 17\n    }\n  }, order.order_items.map(order_item => /*#__PURE__*/React.createElement(TableRow, {\n    key: order_item.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 23\n    }\n  }, order_item.item.title), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 23\n    }\n  }, order_item.quantity), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 23\n    }\n  }, order_item.final_price))))))))));\n}\n\nexport default Myapp;","map":{"version":3,"sources":["/Users/swalihvpm/Desktop/django-react/django-react-ecommerce/src/components/test.js"],"names":["React","useState","useEffect","PropTypes","connect","makeStyles","Box","Collapse","IconButton","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Typography","Paper","KeyboardArrowDownIcon","KeyboardArrowUpIcon","Container","Icon","userIDURL","userTypeURL","orderListURL","authAxios","useRowStyles","root","borderBottom","margin","padding","orderDtails","Myapp","loading","setLoading","orders","setOrders","userID","setUserID","userType","setuserType","currentPage","setCurrentPage","ordersPerPage","classes","findUserType","res","get","data","findUserID","fetchOrders","indexOfLastOrder","indexOfFirstOrder","currentOrders","slice","paginate","pageNumber","console","log","length","Pagination","totalOrders","pageNumbers","i","Math","ceil","push","map","number","CustomerTable","props","UserType","paperContainer","order","id","Customer","open","setOpen","shop_name","total","start_date","order_status","paddingBottom","paddingTop","order_items","order_item","item","title","quantity","final_price"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,qBAAP,MAAkC,sCAAlC;AACA,OAAOC,mBAAP,MAAgC,oCAAhC;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AAEA,SAASC,SAAT,EAAoBC,WAApB,EAAiCC,YAAjC,QAAqD,cAArD;AAEA,SAASC,SAAT,QAA0B,UAA1B;AAEA,MAAMC,YAAY,GAAGpB,UAAU,CAAC;AAC9BqB,EAAAA,IAAI,EAAE;AACJ,aAAS;AACPC,MAAAA,YAAY,EAAE,OADP;AAEPC,MAAAA,MAAM,EAAE,MAFD;AAGPC,MAAAA,OAAO,EAAE;AAHF,KADL;AAMJC,IAAAA,WAAW,EAAE;AACXH,MAAAA,YAAY,EAAE,OADH;AAEXC,MAAAA,MAAM,EAAE,OAFG;AAGXC,MAAAA,OAAO,EAAE;AAHE;AANT;AADwB,CAAD,CAA/B;;AAeA,MAAME,KAAK,GAAG,MAAM;AAClB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBhC,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACiC,MAAD,EAASC,SAAT,IAAsBlC,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACmC,MAAD,EAASC,SAAT,IAAsBpC,QAAQ,CAAC,IAAD,CAApC;AACA,QAAM,CAACqC,QAAD,EAAWC,WAAX,IAA0BtC,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAACuC,WAAD,EAAcC,cAAd,IAAgCxC,QAAQ,CAAC,CAAD,CAA9C;AACA,QAAM,CAACyC,aAAD,IAAkBzC,QAAQ,CAAC,CAAD,CAAhC;AAEA,QAAM0C,OAAO,GAAGlB,YAAY,EAA5B;AAEAvB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM0C,YAAY,GAAG,YAAY;AAC/BX,MAAAA,UAAU,CAAC,IAAD,CAAV;AACA,YAAMY,GAAG,GAAG,MAAMrB,SAAS,CAACsB,GAAV,CAAcxB,WAAd,CAAlB;AACAiB,MAAAA,WAAW,CAACM,GAAG,CAACE,IAAL,CAAX;AACAd,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KALD;;AAOAW,IAAAA,YAAY;AACb,GATQ,EASN,EATM,CAAT;AAWA1C,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM8C,UAAU,GAAG,YAAY;AAC7Bf,MAAAA,UAAU,CAAC,IAAD,CAAV;AACA,YAAMY,GAAG,GAAG,MAAMrB,SAAS,CAACsB,GAAV,CAAczB,SAAd,CAAlB;AACAgB,MAAAA,SAAS,CAACQ,GAAG,CAACE,IAAL,CAAT;AACAd,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KALD;;AAOAe,IAAAA,UAAU;AACX,GATQ,EASN,EATM,CAAT;AAWA9C,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM+C,WAAW,GAAG,YAAY;AAC9BhB,MAAAA,UAAU,CAAC,IAAD,CAAV;AACA,YAAMY,GAAG,GAAG,MAAMrB,SAAS,CAACsB,GAAV,CAAcvB,YAAd,CAAlB;AACAY,MAAAA,SAAS,CAACU,GAAG,CAACE,IAAL,CAAT;AACAd,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KALD;;AAOAgB,IAAAA,WAAW;AACZ,GATQ,EASN,EATM,CAAT,CAhCkB,CA2ClB;;AACA,QAAMC,gBAAgB,GAAGV,WAAW,GAAGE,aAAvC;AACA,QAAMS,iBAAiB,GAAGD,gBAAgB,GAAGR,aAA7C;AACA,QAAMU,aAAa,GAAGlB,MAAM,CAACmB,KAAP,CAAaF,iBAAb,EAAgCD,gBAAhC,CAAtB,CA9CkB,CAgDlB;;AACA,QAAMI,QAAQ,GAAGC,UAAU,IAAId,cAAc,CAACc,UAAD,CAA7C;;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAYf,aAAZ;AACA,sBACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE,oBAAC,aAAD;AAAe,IAAA,MAAM,EAAEU,aAAvB;AAAsC,IAAA,OAAO,EAAEpB,OAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,UAAD;AACE,IAAA,aAAa,EAAEU,aADjB;AAEE,IAAA,WAAW,EAAER,MAAM,CAACwB,MAFtB;AAGE,IAAA,QAAQ,EAAEJ,QAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADF;AAWD,CA/DD;;AAiEA,MAAMK,UAAU,GAAG,CAAC;AAAEjB,EAAAA,aAAF;AAAiBkB,EAAAA,WAAjB;AAA8BN,EAAAA;AAA9B,CAAD,KAA8C;AAC/D,QAAMO,WAAW,GAAG,EAApB;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIC,IAAI,CAACC,IAAL,CAAUJ,WAAW,GAAGlB,aAAxB,CAArB,EAA6DoB,CAAC,EAA9D,EAAkE;AAChED,IAAAA,WAAW,CAACI,IAAZ,CAAiBH,CAAjB;AACD;;AACDN,EAAAA,OAAO,CAACC,GAAR,CAAYf,aAAZ;AAEA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGmB,WAAW,CAACK,GAAZ,CAAgBC,MAAM,iBACrB;AAAI,IAAA,GAAG,EAAEA,MAAT;AAAiB,IAAA,SAAS,EAAC,WAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,OAAO,EAAE,MAAMb,QAAQ,CAACa,MAAD,CAA1B;AAAoC,IAAA,IAAI,EAAC,IAAzC;AAA8C,IAAA,SAAS,EAAC,WAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,MADH,CADF,CADD,CADH,CADF,CADF;AAaD,CArBD;;AAuBA,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAC5B,QAAM;AAAEnC,IAAAA;AAAF,MAAamC,KAAnB;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAeD,KAArB;AACA,QAAM1B,OAAO,GAAGlB,YAAY,EAA5B;AACA,sBACE,oBAAC,SAAD;AAAW,IAAA,QAAQ,EAAC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,cAAD;AAAgB,IAAA,SAAS,EAAET,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AACE,kBAAW,mBADb;AAEE,IAAA,SAAS,EAAE2B,OAAO,CAAC4B,cAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF,eAGE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF,eAIE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF,eAKE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALF,CADF,CAJF,eAaE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGrC,MAAM,CAACgC,GAAP,CAAWM,KAAK,iBACf,oBAAC,QAAD;AAAU,IAAA,GAAG,EAAEA,KAAK,CAACC,EAArB;AAAyB,IAAA,KAAK,EAAED,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADH,CAbF,CADF,CADF,CADF;AAyBD;;AAED,SAASE,QAAT,CAAkBL,KAAlB,EAAyB;AACvB,QAAM;AAAEG,IAAAA;AAAF,MAAYH,KAAlB;AACA,QAAM,CAACM,IAAD,EAAOC,OAAP,IAAkB5E,KAAK,CAACC,QAAN,CAAe,KAAf,CAAxB;AACA,QAAM0C,OAAO,GAAGlB,YAAY,EAA5B;AAEA,sBACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAU,IAAA,SAAS,EAAEkB,OAAO,CAACjB,IAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AACE,kBAAW,YADb;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,OAAO,EAAE,MAAMkD,OAAO,CAAC,CAACD,IAAF,CAHxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKGA,IAAI,gBAAG,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,gBAA6B,oBAAC,qBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALpC,CADF,CADF,eAUE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,IAArB;AAA0B,IAAA,KAAK,EAAC,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGH,KAAK,CAACK,SADT,CAVF,eAcE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0BL,KAAK,CAACM,KAAhC,CAdF,eAeE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0BN,KAAK,CAACO,UAAhC,CAfF,eAgBE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0BP,KAAK,CAACQ,YAAhC,CAhBF,CADF,eAmBE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAE;AAAEC,MAAAA,aAAa,EAAE,CAAjB;AAAoBC,MAAAA,UAAU,EAAE;AAAhC,KAAlB;AAAuD,IAAA,OAAO,EAAE,CAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAEP,IAAd;AAAoB,IAAA,OAAO,EAAC,MAA5B;AAAmC,IAAA,aAAa,MAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,MAAM,EAAE,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,IAApB;AAAyB,IAAA,YAAY,MAArC;AAAsC,IAAA,SAAS,EAAC,KAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAIE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAoB,kBAAW,WAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAGE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAJF,CADF,CADF,eASE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGH,KAAK,CAACW,WAAN,CAAkBjB,GAAlB,CAAsBkB,UAAU,iBAC/B,oBAAC,QAAD;AAAU,IAAA,GAAG,EAAEA,UAAU,CAACX,EAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,IAArB;AAA0B,IAAA,KAAK,EAAC,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGW,UAAU,CAACC,IAAX,CAAgBC,KADnB,CADF,eAKE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0BF,UAAU,CAACG,QAArC,CALF,eAME,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGH,UAAU,CAACI,WADd,CANF,CADD,CADH,CATF,CAJF,CADF,CADF,CADF,CAnBF,CADF;AAyDD;;AAED,eAAezD,KAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Box from \"@material-ui/core/Box\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport KeyboardArrowDownIcon from \"@material-ui/icons/KeyboardArrowDown\";\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\nimport Container from \"@material-ui/core/Container\";\nimport Icon from \"@material-ui/core/Icon\";\n\nimport { userIDURL, userTypeURL, orderListURL } from \"../constants\";\n\nimport { authAxios } from \"../utils\";\n\nconst useRowStyles = makeStyles({\n  root: {\n    \"& > *\": {\n      borderBottom: \"unset\",\n      margin: \"20px\",\n      padding: \"20px\"\n    },\n    orderDtails: {\n      borderBottom: \"unset\",\n      margin: \"300px\",\n      padding: \"20px\"\n    }\n  }\n});\n\nconst Myapp = () => {\n  const [loading, setLoading] = useState(false);\n  const [orders, setOrders] = useState([]);\n  const [userID, setUserID] = useState(null);\n  const [userType, setuserType] = useState(null);\n  const [currentPage, setCurrentPage] = useState(2);\n  const [ordersPerPage] = useState(5);\n\n  const classes = useRowStyles();\n\n  useEffect(() => {\n    const findUserType = async () => {\n      setLoading(true);\n      const res = await authAxios.get(userTypeURL);\n      setuserType(res.data);\n      setLoading(false);\n    };\n\n    findUserType();\n  }, []);\n\n  useEffect(() => {\n    const findUserID = async () => {\n      setLoading(true);\n      const res = await authAxios.get(userIDURL);\n      setUserID(res.data);\n      setLoading(false);\n    };\n\n    findUserID();\n  }, []);\n\n  useEffect(() => {\n    const fetchOrders = async () => {\n      setLoading(true);\n      const res = await authAxios.get(orderListURL);\n      setOrders(res.data);\n      setLoading(false);\n    };\n\n    fetchOrders();\n  }, []);\n\n  // Get current orders\n  const indexOfLastOrder = currentPage * ordersPerPage;\n  const indexOfFirstOrder = indexOfLastOrder - ordersPerPage;\n  const currentOrders = orders.slice(indexOfFirstOrder, indexOfLastOrder);\n\n  // Change page\n  const paginate = pageNumber => setCurrentPage(pageNumber);\n\n  console.log(ordersPerPage);\n  return (\n    <div className=\"container mt-5\">\n      <h1 className=\"text-primary mb-3\">My Blog</h1>\n      <CustomerTable orders={currentOrders} loading={loading} />\n      <Pagination\n        ordersPerPage={ordersPerPage}\n        totalOrders={orders.length}\n        paginate={paginate}\n      />\n    </div>\n  );\n};\n\nconst Pagination = ({ ordersPerPage, totalOrders, paginate }) => {\n  const pageNumbers = [];\n\n  for (let i = 1; i <= Math.ceil(totalOrders / ordersPerPage); i++) {\n    pageNumbers.push(i);\n  }\n  console.log(ordersPerPage);\n\n  return (\n    <nav>\n      <ul className=\"pagination\">\n        {pageNumbers.map(number => (\n          <li key={number} className=\"page-item\">\n            <a onClick={() => paginate(number)} href=\"!#\" className=\"page-link\">\n              {number}\n            </a>\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n};\n\nfunction CustomerTable(props) {\n  const { orders } = props;\n  const { UserType } = props;\n  const classes = useRowStyles();\n  return (\n    <Container maxWidth=\"md\">\n      <TableContainer component={Paper}>\n        <Table\n          aria-label=\"collapsible table\"\n          className={classes.paperContainer}\n        >\n          <TableHead>\n            <TableRow>\n              <TableCell />\n              <TableCell align=\"right\">Shop Name</TableCell>\n              <TableCell align=\"right\">Total Amount</TableCell>\n              <TableCell align=\"right\">Date</TableCell>\n              <TableCell align=\"right\">Order Status</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {orders.map(order => (\n              <Customer key={order.id} order={order} />\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Container>\n  );\n}\n\nfunction Customer(props) {\n  const { order } = props;\n  const [open, setOpen] = React.useState(false);\n  const classes = useRowStyles();\n\n  return (\n    <React.Fragment>\n      <TableRow className={classes.root}>\n        <TableCell>\n          <IconButton\n            aria-label=\"expand row\"\n            size=\"small\"\n            onClick={() => setOpen(!open)}\n          >\n            {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\n          </IconButton>\n        </TableCell>\n        <TableCell component=\"th\" scope=\"row\">\n          {order.shop_name}\n        </TableCell>\n        {/* <TableCell align=\"right\">{order.shop_name}</TableCell> */}\n        <TableCell align=\"right\">{order.total}</TableCell>\n        <TableCell align=\"right\">{order.start_date}</TableCell>\n        <TableCell align=\"right\">{order.order_status}</TableCell>\n      </TableRow>\n      <TableRow>\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\n            <Box margin={1}>\n              <Typography variant=\"h6\" gutterBottom component=\"div\">\n                Order Details\n              </Typography>\n              <Table size=\"small\" aria-label=\"purchases\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Item</TableCell>\n\n                    <TableCell align=\"right\">Quantity</TableCell>\n                    <TableCell align=\"right\">Total price</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {order.order_items.map(order_item => (\n                    <TableRow key={order_item.id}>\n                      <TableCell component=\"th\" scope=\"row\">\n                        {order_item.item.title}\n                      </TableCell>\n\n                      <TableCell align=\"right\">{order_item.quantity}</TableCell>\n                      <TableCell align=\"right\">\n                        {order_item.final_price}\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </Box>\n          </Collapse>\n        </TableCell>\n      </TableRow>\n    </React.Fragment>\n  );\n}\n\nexport default Myapp;\n"]},"metadata":{},"sourceType":"module"}